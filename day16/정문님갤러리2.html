<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>순환 이미지 갤러리</title>
  <style>
    .container {
      display: flex;
      height: 400px;
      width: 600px;
      border: 1px solid #ccc;
    }

    .left-gallery {
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 100px;
      overflow: hidden;
      position: relative;
      background: #f9f9f9;

      padding: 20px;
    }

    .image-list {
      display: flex;
      flex-direction: column;
    }

    .image-list img {
      width: 80px;
      height: 80px;
      margin: 5px 0;
      object-fit: cover;
      border: 1px solid #aaa;
      cursor: pointer;
      transition: transform 0.2s;
    }

    .image-list img:hover {
      transform: scale(1.05);
      border-color: #333;
    }

    .buttons {
      position: absolute;
      width: 100%;
      background: rgba(255, 255, 255, 0.7);
      z-index: 1;
    }

    .up {
      top: 0;
    }

    .down {
      bottom: 0;
    }

    .buttons button {
      width: 80%;
    }

    .right-viewer {
      flex: 1;
      display: flex;
      justify-content: center;
      align-items: center;
      background: #eee;
    }

    .right-viewer img {
      max-width: 100%;
      max-height: 100%;
      border: 2px solid #444;
      background: white;
    }
  </style>
</head>
<body>

<div class="container">
  <div class="left-gallery">
    
    
    <!--up down 버튼-->
    <button onclick="scrollUp()" class="buttons up">▲</button>
    <button onclick="scrollDown()" class="buttons down">▼</button>



    <div class="image-list" id="imageList">
      <!-- 동적 이미지 -->
    </div>
  </div>

  <div class="right-viewer" id="viewer">
    <img id="mainImage" src="" alt="선택된 이미지">
  </div>
</div>

<script>
  const images = [
    'https://image2.lotteimall.com/goods/14/55/76/1860765514_14.jpg/dims/resizemc/640x360/optimize',
    'https://image2.lotteimall.com/goods/36/38/40/3046403836_14.jpg/dims/resizemc/640x360/optimize',
    'https://image2.lotteimall.com/goods/43/84/33/3063338443_14.jpg/dims/resizemc/640x360/optimize',
    'https://image2.lotteimall.com/goods/27/47/35/3062354727_14.jpg/dims/resizemc/640x360/optimize',
    'https://image2.lotteimall.com/goods/32/63/23/2902236332_14.jpg/dims/resizemc/640x360/optimize',
    'https://image2.lotteimall.com/goods/51/83/77/1982778351_14.jpg/dims/resizemc/640x360/optimize',
    'https://image2.lotteimall.com/goods/87/65/96/2623966587_3.jpg/dims/resizemc/640x360/optimize',
    'https://image2.lotteimall.com/goods/30/64/58/2992586430_14.jpg/dims/resizemc/640x360/optimize',
  ];

  const visibleCount = 6;
  let startIndex = 0;
  const listEl = document.getElementById('imageList');
  const mainImage = document.getElementById('mainImage');

  function renderImages() {
    listEl.innerHTML = '';
    for (let i = 0; i < visibleCount; i++) {

      //startIndex에 따른 index 구하기
      const index = (startIndex + i) % images.length;    //    


      const img = document.createElement('img');
      img.src = images[index];
      img.addEventListener('click', () => {
        mainImage.src = images[index];
      });
      listEl.appendChild(img);
    }

    
    // 기본 선택 이미지가 없으면 첫 번째를 보여줌
 
      mainImage.src = images[startIndex];
     
  }

  function scrollUp() {
    startIndex = (startIndex - 1 + images.length) % images.length;  //  -1 +6 =>5     % 6    => 5   다시 맨뒤로
                                                                    //  0  => 위로   제일 마지막

    //
    renderImages();
  }



  function scrollDown() {
    startIndex = (startIndex + 1) % images.length;    //   5+1  =>  6   % 6 =>  0    // 다시 0 으로
    renderImages();
  }

  renderImages();
</script>

</body>
</html>
